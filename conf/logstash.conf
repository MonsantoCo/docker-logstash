# #####################################################################
# NAME: logstash.conf
# DESC: Logstash configuration file. Typically forwarding logs to
#       Elasticsearch instance.
#
# LOG:
# yyyy/mm/dd [user] [version]: [notes]
# 2014/10/23 cgwog [v0.1.0]: Initial creation.
# #####################################################################

# Where to get input
input {
  # Get input from standard input device/interface
  stdin {
    type => "stdin-type"
  }

  # Get input from file (syslog)
  file {
    type => "syslog"
    path => [ "/var/log/*.log", "/var/log/messages", "/var/log/syslog" ]
    start_position => "beginning"
  }
  
  # Get input over TCP port 5000 as JSON lines
  tcp {
    port  => 5000
    codec => json_lines
  }
}

# Where to send output
output {
  # Send out out to standard output device/interface
  stdout {
    codec => rubydebug
  }

  # Send output to Elasticsearch over HTTP (HTTP/REST) interface.
  # Use defaults, such as for port (9200)
##  elasticsearch {
  elasticsearch_http {
##    protocol => 'http'
    host     => '$ES_PORT_9200_TCP_ADDR'
##    port     => '$ES_PORT_9200_TCP_PORT'
##    cluster =>
  }
  
  # Send output metrics to statsd for statistics aggregation
##  statsd {
##  }

  # Send output metrics to graphite for graphing 
##  graphite {
##  }
}
